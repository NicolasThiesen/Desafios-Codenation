{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\aluno\\\\Codenation\\\\react-16\\\\src\\\\components\\\\Story\\\\Story.jsx\";\nimport React, { useCallback, useState } from \"react\";\nimport { Link } from 'react-router-dom';\nimport './Story.scss';\n\nconst Story = ({\n  story,\n  user,\n  handleClose\n}) => {\n  const [currentTime, setCurrentTime] = useState(null);\n  const [duration, setDuration] = useState(null);\n  const handleChangeProgress = useCallback(() => {\n    if (duration != null && currentTime != null) {\n      const elapsed_time = currentTime / duration * 100;\n      return `${elapsed_time.toFixed(2)}%`;\n    } else {\n      return \"0%\";\n    }\n  }, [duration, currentTime]);\n  return /*#__PURE__*/React.createElement(\"section\", {\n    className: \"story\",\n    \"data-testid\": \"story\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    className: \"story__header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: `/users/${user[\"username\"]}`,\n    className: \"user__thumb\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: user[\"avatar\"],\n    alt: user[\"name\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Link, {\n    to: `/users/${user[\"username\"]}`,\n    className: \"user__name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 13\n    }\n  }, user[\"username\"])), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"story__close\",\n    onClick: () => handleClose(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-times\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"story__progress\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"story__progress__elapsed\",\n    style: {\n      width: handleChangeProgress()\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"story__video__wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"video\", {\n    autoPlay: true,\n    loop: true,\n    playsInline: true,\n    onTimeUpdate: e => {\n      setCurrentTime(e.target.currentTime);\n    },\n    onLoadedMetadata: e => setDuration(e.target.duration),\n    src: story[\"videoUrl\"],\n    className: \"video-player\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 11\n    }\n  }))));\n};\n\nexport default Story;","map":{"version":3,"sources":["C:/Users/aluno/Codenation/react-16/src/components/Story/Story.jsx"],"names":["React","useCallback","useState","Link","Story","story","user","handleClose","currentTime","setCurrentTime","duration","setDuration","handleChangeProgress","elapsed_time","toFixed","width","e","target"],"mappings":"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","sourcesContent":["import React, { useCallback, useState } from \"react\";\n\nimport { Link } from 'react-router-dom';\n\nimport './Story.scss';\n\nconst Story = ({ story, user, handleClose }) => {\n  const [currentTime,setCurrentTime] = useState(null);\n  const [duration, setDuration] = useState(null);\n  \n  const handleChangeProgress = useCallback(()=>{\n    if(duration!=null && currentTime!=null){\n      const elapsed_time = ((currentTime/duration)*100)\n      return `${elapsed_time.toFixed(2)}%`;\n    }else{\n      return \"0%\"\n    }\n  },[duration,currentTime])\n  return (\n    <section className=\"story\" data-testid=\"story\">\n      <div className=\"container\">\n        <header className=\"story__header\">\n          <div className=\"user\">\n            <Link to={`/users/${user[\"username\"]}`} className=\"user__thumb\">\n              <img src={user[\"avatar\"]} alt={user[\"name\"]}/>\n            </Link>\n            <Link to={`/users/${user[\"username\"]}`} className=\"user__name\">\n              {user[\"username\"]}\n            </Link>\n            \n          </div>\n          <button className=\"story__close\" onClick={() => handleClose()}>\n              <i className=\"fas fa-times\"></i>\n            </button>\n        </header>\n\n        <div className=\"story__progress\">\n          <div className=\"story__progress__elapsed\" style={{ width: handleChangeProgress()}} ></div>\n        </div>\n\n        <div className=\"story__video__wrapper\">\n          <video autoPlay loop playsInline onTimeUpdate={e => {setCurrentTime(e.target.currentTime)}} onLoadedMetadata={e => setDuration(e.target.duration)} src={story[\"videoUrl\"]} className=\"video-player\"></video>\n        </div>\n      </div>\n    </section>\n  );\n};\n\nexport default Story;\n"]},"metadata":{},"sourceType":"module"}