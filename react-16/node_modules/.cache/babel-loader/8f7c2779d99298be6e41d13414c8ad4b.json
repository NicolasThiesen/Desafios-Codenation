{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\aluno\\\\Codenation\\\\react-16\\\\src\\\\components\\\\Story\\\\Story.jsx\";\nimport React, { useCallback, useState } from \"react\";\nimport { Link } from 'react-router-dom';\nimport './Story.scss';\n\nconst Story = ({\n  story,\n  user,\n  handleClose\n}) => {\n  const [currentTime, setCurrentTime] = useState(null);\n  const [duration, setDuration] = useState(null);\n  const handleChangeProgress = useCallback(() => {\n    console.log(currentTime);\n\n    if (duration != null && currentTime != null) {\n      const elapsed_time = currentTime / duration * 100;\n      return `${elapsed_time.toFixed(2)}%`;\n    } else {\n      return \"0%\";\n    }\n  }, [duration, currentTime]);\n  return /*#__PURE__*/React.createElement(\"section\", {\n    className: \"story\",\n    \"data-testid\": \"story\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    className: \"story__header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: `/${user[\"username\"]}`,\n    className: \"user__thumb\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: user[\"avatar\"],\n    alt: user[\"name\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Link, {\n    to: `/${user[\"username\"]}`,\n    className: \"user__name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 13\n    }\n  }, user[\"username\"])), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"story__close\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-times\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"story__progress\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"story__progress__elapsed\",\n    style: {\n      with: handleChangeProgress()\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"story__video__wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"video\", {\n    autoPlay: true,\n    loop: true,\n    playsInline: true,\n    onTimeUpdate: e => {\n      setCurrentTime(e.target.currentTime);\n      console.log(e.target.currentTime);\n    },\n    onLoadedMetadata: e => setDuration(e.target.duration),\n    src: story[\"videoUrl\"],\n    className: \"video-player\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 11\n    }\n  }))));\n};\n\nexport default Story;","map":{"version":3,"sources":["C:/Users/aluno/Codenation/react-16/src/components/Story/Story.jsx"],"names":["React","useCallback","useState","Link","Story","story","user","handleClose","currentTime","setCurrentTime","duration","setDuration","handleChangeProgress","console","log","elapsed_time","toFixed","with","e","target"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,WAAhB,EAA6BC,QAA7B,QAA6C,OAA7C;AAEA,SAASC,IAAT,QAAqB,kBAArB;AAEA,OAAO,cAAP;;AAEA,MAAMC,KAAK,GAAG,CAAC;AAAEC,EAAAA,KAAF;AAASC,EAAAA,IAAT;AAAeC,EAAAA;AAAf,CAAD,KAAkC;AAC9C,QAAM,CAACC,WAAD,EAAaC,cAAb,IAA+BP,QAAQ,CAAC,IAAD,CAA7C;AACA,QAAM,CAACQ,QAAD,EAAWC,WAAX,IAA0BT,QAAQ,CAAC,IAAD,CAAxC;AAEA,QAAMU,oBAAoB,GAAGX,WAAW,CAAC,MAAI;AAC3CY,IAAAA,OAAO,CAACC,GAAR,CAAYN,WAAZ;;AACA,QAAGE,QAAQ,IAAE,IAAV,IAAkBF,WAAW,IAAE,IAAlC,EAAuC;AACrC,YAAMO,YAAY,GAAKP,WAAW,GAACE,QAAb,GAAuB,GAA7C;AACA,aAAQ,GAAEK,YAAY,CAACC,OAAb,CAAqB,CAArB,CAAwB,GAAlC;AACD,KAHD,MAGK;AACH,aAAO,IAAP;AACD;AACF,GARuC,EAQtC,CAACN,QAAD,EAAUF,WAAV,CARsC,CAAxC;AASA,sBACE;AAAS,IAAA,SAAS,EAAC,OAAnB;AAA2B,mBAAY,OAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAQ,IAAA,SAAS,EAAC,eAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAG,IAAGF,IAAI,CAAC,UAAD,CAAa,EAA/B;AAAkC,IAAA,SAAS,EAAC,aAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,GAAG,EAAEA,IAAI,CAAC,QAAD,CAAd;AAA0B,IAAA,GAAG,EAAEA,IAAI,CAAC,MAAD,CAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,eAIE,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAG,IAAGA,IAAI,CAAC,UAAD,CAAa,EAA/B;AAAkC,IAAA,SAAS,EAAC,YAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGA,IAAI,CAAC,UAAD,CADP,CAJF,CADF,eAUE;AAAQ,IAAA,SAAS,EAAC,cAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAG,IAAA,SAAS,EAAC,cAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAVF,CADF,eAeE;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,0BAAf;AAA0C,IAAA,KAAK,EAAE;AAACW,MAAAA,IAAI,EAAEL,oBAAoB;AAA3B,KAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAfF,eAkBE;AAAK,IAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,QAAQ,MAAf;AAAgB,IAAA,IAAI,MAApB;AAAqB,IAAA,WAAW,MAAhC;AAAiC,IAAA,YAAY,EAAEM,CAAC,IAAI;AAACT,MAAAA,cAAc,CAACS,CAAC,CAACC,MAAF,CAASX,WAAV,CAAd;AAAqCK,MAAAA,OAAO,CAACC,GAAR,CAAYI,CAAC,CAACC,MAAF,CAASX,WAArB;AAAkC,KAA5H;AAA8H,IAAA,gBAAgB,EAAEU,CAAC,IAAIP,WAAW,CAACO,CAAC,CAACC,MAAF,CAAST,QAAV,CAAhK;AAAqL,IAAA,GAAG,EAAEL,KAAK,CAAC,UAAD,CAA/L;AAA6M,IAAA,SAAS,EAAC,cAAvN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAlBF,CADF,CADF;AA0BD,CAvCD;;AAyCA,eAAeD,KAAf","sourcesContent":["import React, { useCallback, useState } from \"react\";\n\nimport { Link } from 'react-router-dom';\n\nimport './Story.scss';\n\nconst Story = ({ story, user, handleClose }) => {\n  const [currentTime,setCurrentTime] = useState(null);\n  const [duration, setDuration] = useState(null);\n  \n  const handleChangeProgress = useCallback(()=>{\n    console.log(currentTime);\n    if(duration!=null && currentTime!=null){\n      const elapsed_time = ((currentTime/duration)*100)\n      return `${elapsed_time.toFixed(2)}%`;\n    }else{\n      return \"0%\"\n    }\n  },[duration,currentTime])\n  return (\n    <section className=\"story\" data-testid=\"story\">\n      <div className=\"container\">\n        <header className=\"story__header\">\n          <div className=\"user\">\n            <Link to={`/${user[\"username\"]}`} className=\"user__thumb\">\n              <img src={user[\"avatar\"]} alt={user[\"name\"]}/>\n            </Link>\n            <Link to={`/${user[\"username\"]}`} className=\"user__name\">\n              {user[\"username\"]}\n            </Link>\n            \n          </div>\n          <button className=\"story__close\">\n              <i className=\"fas fa-times\"></i>\n            </button>\n        </header>\n        <div className=\"story__progress\">\n          <div className=\"story__progress__elapsed\" style={{with: handleChangeProgress()}}></div>\n        </div>\n        <div className=\"story__video__wrapper\">\n          <video autoPlay loop playsInline onTimeUpdate={e => {setCurrentTime(e.target.currentTime);console.log(e.target.currentTime)}} onLoadedMetadata={e => setDuration(e.target.duration)} src={story[\"videoUrl\"]} className=\"video-player\"></video>\n        </div>\n      </div>\n    </section>\n  );\n};\n\nexport default Story;\n"]},"metadata":{},"sourceType":"module"}